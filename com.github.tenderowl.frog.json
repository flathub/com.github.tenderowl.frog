{
    "app-id": "com.github.tenderowl.frog",
    "runtime": "org.gnome.Platform",
    "runtime-version": "44",
    "sdk": "org.gnome.Sdk",
    "command": "frog",
    "finish-args": [
        "--share=network",
        "--share=ipc",
        "--socket=fallback-x11",
        "--socket=wayland",
        "--socket=pulseaudio",
        "--device=dri",
        "--talk-name=org.freedesktop.Notifications",
        "--filesystem=home"
    ],
    "cleanup": [
        "/include",
        "/lib/pkgconfig",
        "/man",
        "/share/doc",
        "/share/gtk-doc",
        "/share/man",
        "/share/pkgconfig",
        "*.la",
        "*.a"
    ],
    "modules": [
        {
          "name": "blueprint-compiler",
          "buildsystem": "meson",
          "cleanup": [
              "*"
          ],
          "sources": [
            {
              "type": "git",
              "url": "https://gitlab.gnome.org/jwestman/blueprint-compiler",
              "tag": "v0.10.0"
            }
          ]
        },
        {
          "name": "leptonica",
          "rm-configure": true,
          "config-opts": [
            "--disable-static"
          ],
          "sources": [
            {
              "type": "archive",
              "url": "https://github.com/DanBloomberg/leptonica/releases/download/1.83.1/leptonica-1.83.1.tar.gz",
              "sha256": "8f18615e0743af7df7f50985c730dfcf0c93548073d1f56621e4156a8b54d3dd"
            }
          ]
        },
        {
          "name": "tesseract",
          "config-opts": [
            "--disable-static",
            "--disable-graphics",
            "--enable-legacy"
          ],
          "sources": [
            {
              "type": "git",
              "url": "https://github.com/tesseract-ocr/tesseract.git",
              "tag": "5.3.2"
            }
          ],
          "post-install": [
            "chmod +x /app/bin/tesseract"
          ]
        },
        {
            "name": "libportal",
            "buildsystem": "meson",
            "builddir": true,
            "config-opts": [
                "-Dbackends=gtk3",
                "-Ddocs=false"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/flatpak/libportal/releases/download/0.6/libportal-0.6.tar.xz",
                    "sha256": "88a12c3ba71bc31acff7238c280de697d609cebc50830c3766776ec35abc6566"
                }
            ]
        },
        {
            "name": "zbar",
            "config-opts": [
                "--without-qt",
                "--without-qt5",
                "--without-gtk",
                "--without-xv",
                "--without-imagemagick",
                "--without-dbus",
                "--disable-video",
                "--without-java",
                "--without-python",
                "--with-doc=no",
                "--disable-doc",
                "--with-introspection=no",
                "--enable-codes=qrcode"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://linuxtv.org/downloads/zbar/zbar-0.23.tar.gz",
                    "sha256": "ac52763a7dd6ddc53ca6cd75ccee14f7abf6ae46ecb31137d025af123edd33bf"
                },
                {
                    "type": "script",
                    "dest-filename": "autogen.sh",
                    "commands": [
                        "autoreconf -vfi -W none"
                    ]
                }
            ]
        },
        {
          "name": "python3-pytesseract",
          "buildsystem": "simple",
          "build-commands": [
              "pip3 install --verbose --exists-action=i --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} \"pytesseract\" --no-build-isolation"
          ],
          "sources": [
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/00/d5/4903f310765e0ff2b8e91ffe55031ac6af77d982f0156061e20a4d1a8b2d/Pillow-9.5.0.tar.gz",
                  "sha256": "bf548479d336726d7a0eceb6e767e179fbde37833ae42794602631a070d630f1"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/ab/c3/57f0601a2d4fe15de7a553c00adbc901425661bf048f2a22dfc500caf121/packaging-23.1-py3-none-any.whl",
                  "sha256": "994793af429502c4ea2ebf6bf664629d07c1a9fe974af92966e4b8d2df7edc61"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/c5/54/ec007336f38d2d4ce61f3544af3e6855dacbf04a1ac8294f10cabe81146f/pytesseract-0.3.10-py3-none-any.whl",
                  "sha256": "8f22cc98f765bf13517ead0c70effedb46c153540d25783e04014f28b55a5fc6"
              }
          ]
        },
        {
            "name": "python3-pyzbar",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --verbose --exists-action=i --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} \"pyzbar\" --no-build-isolation"
            ],
            "sources": [
                {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/6d/24/81ebe6a1c00760471a3028a23cbe0b94e5fa2926e5ba47adc895920887bc/pyzbar-0.1.9-py2.py3-none-any.whl",
                    "sha256": "4559628b8192feb25766d954b36a3753baaf5c97c03135aec7e4a026036b475d"
                }
            ]
        },
        {
          "name": "python3-gTTS",
          "buildsystem": "simple",
          "build-commands": [
              "pip3 install --verbose --exists-action=i --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} \"gTTS\" --no-build-isolation"
          ],
          "sources": [
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/9d/19/59961b522e6757f0c9097e4493fa906031b95b3ebe9360b2c3083561a6b4/certifi-2023.5.7-py3-none-any.whl",
                  "sha256": "c6c2e98f5c7869efca1f8916fed228dd91539f9f1b444c314c06eef02980c716"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/2a/53/cf0a48de1bdcf6ff6e1c9a023f5f523dfe303e4024f216feac64b6eb7f67/charset-normalizer-3.2.0.tar.gz",
                  "sha256": "3bb3d25a8e6c0aedd251753a79ae98a093c7e7b471faa3aa9a93a81431987ace"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/1a/70/e63223f8116931d365993d4a6b7ef653a4d920b41d03de7c59499962821f/click-8.1.6-py3-none-any.whl",
                  "sha256": "fa244bb30b3b5ee2cae3da8f55c9e5e0c0e86093306301fb418eb9dc40fbded5"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/98/da/4b8bb016aca4abebe5b582ce1b17604a1d9bc91499ac2214e1fa250f69b6/gTTS-2.3.2-py3-none-any.whl",
                  "sha256": "9132e409603f34d5023458e3e10ce2f5df55498d7a2ee781c9adbe616fbd4152"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/fc/34/3030de6f1370931b9dbb4dad48f6ab1015ab1d32447850b9fc94e60097be/idna-3.4-py3-none-any.whl",
                  "sha256": "90b77e79eaa3eba6de819a0c442c0b4ceefc341a7a2ab77d7562bf49f425c5c2"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/70/8e/0e2d847013cb52cd35b38c009bb167a1a26b2ce6cd6965bf26b47bc0bf44/requests-2.31.0-py3-none-any.whl",
                  "sha256": "58cd2187c01e70e6e26505bca751777aa9f2ee0b7f4300988b709f44e013003f"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/9b/81/62fd61001fa4b9d0df6e31d47ff49cfa9de4af03adecf339c7bc30656b37/urllib3-2.0.4-py3-none-any.whl",
                  "sha256": "de7df1803967d2c2a98e4b11bb7d6bd9210474c46e8a0401514e3a42a75ebde4"
              }
          ]
        },
        {
            "name": "frog",
            "builddir": true,
            "buildsystem": "meson",
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/tenderowl/frog.git",
                    "tag": "1.4.2"
                }
            ]
        }
    ]
}
